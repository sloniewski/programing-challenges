<!DOCTYPE html>
<head>
	<title>ASCII Timer</title>
  <link href="https://fonts.googleapis.com/css?family=VT323" rel="stylesheet">
 <meta charset="utf-8">
<script>
 function G(element){
  if (typeof(element)=="object") {
   return element;
  }else{
   return document.getElementById(element);
  }}

 function S(element){
  return document.getElementById(element).style;
  }

	function L(element){
		return document.getElementById(element).addEventListener;
	}
</script>

<style>
html{
font-family: 'VT323', monospace;
}
</style>
</head>

<body>

<table>
  <tr>
    <td>Hours</td>
    <td>Minutes</td>
    <td>Seconds</td>

  </tr>

  <tr>
  <form id="timer">
    <td><input type="text" id="input_hours" class="input" name="hours"></td>
    <td><input type="text" id="input_minutes" class="input" name="minutes"></td>
    <td><input type="text" id="input_seconds" class="input" name="seconds"></td>

    </form>
    <td><button type="button" id="start">Start</button></td>
    <td><button type="button" id="stop">Stop</button></td>
    <td><button type="button" id="clear">Clear</button></td>
</tr>
</table>

<div id="message"></div>
<div id="message2"></div>

<div id="c_one" class="time"></div>
<div id="c_two" class="time"></div>
<div class ="dots time"></div>
<div id="c_three" class="time"></div>
<div id="c_four" class="time"></div>
<div class="dots time"></div>
<div id="c_five" class="time"></div>
<div id="c_six" class="time"></div>

<script>

var input = document.getElementsByClassName("input");

//add event listener to each form field, launches validation function
for ( i = 0 ; i < input.length ; i++ ){
  input[i].defaultValue ="00";
	input[i].addEventListener("input", validate);    //function that validates input
	input[i].addEventListener("input", setTimer);  //function that sets timer
	}


//function that checks if fields contain letters, if so it will return error message
function validate(){
	var numbers =/[a-zA-Z]/;
	var error_message = "";
for ( i = 0 ; i < input.length ; i++ ){
 if (numbers.test(input[i].value)==true && input[i].value!=null)  error_message = "Numbers only allowed";
}
 G("message").innerHTML = error_message;
}

//ascii numbers
var one = ".....@@...<br>...@@@@...<br>...@@@@...<br>.....@@...<br>.....@@...<br>.....@@...<br>.....@@...<br>.....@@...<br>.....@@...<br>.....@@...<br>";
var two = "...@@@@...<br>..@@@@@@..<br>..@@..@@..<br>......@@..<br>.....@@...<br>....@@@...<br>....@@....<br>...@@.....<br>..@@@@@@..<br>..@@@@@@..<br>";
var three = "...@@@@...<br>..@@@@@@..<br>..@@..@@..<br>......@@..<br>....@@@...<br>....@@@...<br>......@@..<br>..@@..@@..<br>..@@@@@@..<br>...@@@@...<br>";
var four = "....@@....<br>...@@@....<br>..@@@.....<br>..@@......<br>..@@......<br>..@@@@@@..<br>..@@@@@@..<br>.....@@...<br>.....@@...<br>.....@@...<br>";
var five="..@@@@@@..<br>..@@@@@@..<br>..@@......<br>..@@......<br>...@@@@...<br>...@@@@@..<br>......@@..<br>..@@..@@..<br>..@@@@@@..<br>...@@@@...";
var six ="...@@@@...<br>..@@@@@@..<br>..@@..@@..<br>..@@......<br>..@@@@....<br>..@@@@@...<br>..@@..@@..<br>..@@..@@..<br>..@@@@@@..<br>...@@@@...<br>";
var seven = "..@@@@@@..<br>..@@@@@@..<br>......@@..<br>......@@..<br>.....@@...<br>.....@@...<br>....@@....<br>....@@....<br>...@@.....<br>...@@.....<br>";
var eight = "...@@@@...<br>..@@@@@@..<br>..@@..@@..<br>..@@..@@..<br>...@@@@...<br>...@@@@...<br>..@@..@@..<br>..@@..@@..<br>..@@@@@@..<br>...@@@@...<br>";
var nine = "...@@@@...<br>..@@@@@@..<br>..@@..@@..<br>..@@..@@..<br>...@@@@@..<br>....@@@@..<br>......@@..<br>..@@..@@..<br>..@@@@@@..<br>...@@@@...<br>";
var zero = "...@@@@...<br>..@@@@@@..<br>..@@..@@..<br>..@@..@@..<br>..@@..@@..<br>..@@..@@..<br>..@@..@@..<br>..@@..@@..<br>..@@@@@@..<br>...@@@@...";
var dots = "..<br>..<br>@@<br>@@<br>..<br>..<br>@@<br>@@<br>..<br>..<br>";
var blank  = "..<br>..<br>..<br>..<br>..<br>..<br>..<br>..<br>..<br>..<br>";

//functions that tell whitch digit to show
function getFirstDigit(number){
 if (number>61) return "time cannot be more than 60";
 digits = "";

if (number<=9) {
	digits = zero;
} else{
 switch((number-(number%10))/10) {
  case 1:
   digits = one;
	 break;
  case 2:
	 digits = two;
	 break;
  case 3:
	 digits = three;
   break;
  case 4:
	 digits = four;
   break;
  case 5:
   digits = five;
   break;
  case 6:
	 digits = six;
   break;
  case 7:
   digits = seven;
   break;
  case 8:
	 digits = eight;
   break;
  case 9:
	 digits = nine;
   break;
}
}
return digits;
}

function getSecondDigit(number){
	if (number>61) return "time cannot be more than 60";
  digits = "";

  switch(number%10) {
   case 1:
    digits = one;
 	 break;
   case 2:
 	 digits = two;
 	 break;
   case 3:
 	 digits = three;
    break;
   case 4:
 	 digits = four;
    break;
   case 5:
    digits = five;
    break;
   case 6:
 	 digits = six;
    break;
   case 7:
    digits = seven;
    break;
   case 8:
 	 digits = eight;
    break;
   case 9:
 	 digits = nine;
    break;
   case 0:
	  digits = zero;
		break;
 }
 return digits;
}

//function for blinking stoper dotts that seperate clock digits
b=1;
 function blink(){

  var element = document.getElementsByClassName("dots");
 var a;
 for (a = 0; a< element.length; a++) {
   if ((b%2)==0) {
   element[a].innerHTML= blank;
	} else if ((b%2)>0) {
	element[a].innerHTML=dots;
	}
 }
 ++b;
 }

//setInterval(blink,500);

var x = document.getElementsByClassName("time");

for (i = 0; i < x.length; i++) {
	 x[i].style.float = "left";
	 x[i].style.border = "1px solid white";
}

//get input and put that into display
function getInput(){
var hours = G("input_hours").value
var minutes = G("input_minutes").value
var seconds = G("input_seconds").value
var time_input=[hours,minutes,seconds];
return time_input;
}

function setTimer(){
var time = getInput();
var hours_first       = getFirstDigit(time[0])
var hours_second = getSecondDigit(time[0])

var minutes_first       = getFirstDigit(time[1])
var minutes_second = getSecondDigit(time[1])

var seconds_first = getFirstDigit(time[2])
var seconds_second = getSecondDigit(time[2])


G("c_one").innerHTML = hours_first;
G("c_two").innerHTML = hours_second;
G("c_three").innerHTML = minutes_first;
G("c_four").innerHTML = minutes_second;
G("c_five").innerHTML = seconds_first;
G("c_six").innerHTML =seconds_second;
}

function setTimer2(hours,minutes,seconds){
var hours_first       = getFirstDigit(hours);
var hours_second = getSecondDigit(hours);

var minutes_first       = getFirstDigit(minutes)
var minutes_second = getSecondDigit(minutes)

var seconds_first = getFirstDigit(seconds)
var seconds_second = getSecondDigit(seconds)

G("c_one").innerHTML = hours_first;
G("c_two").innerHTML = hours_second;
G("c_three").innerHTML = minutes_first;
G("c_four").innerHTML = minutes_second;
G("c_five").innerHTML = seconds_first;
G("c_six").innerHTML =seconds_second;
}

//start timer in steps :1.kill event that dispays the numbers 2. create date object 3. start interval

var date = createDate();
function createDate(){
	  var x = getInput();
	  var date = new Date ((x[0]*1000*60*60)+(x[1]*1000*60) +(x[2]*1000)) 
	  return date;
}
G("start").addEventListener("click",createDate);

function stopInput(){
	for ( i = 0 ; i < input.length ; i++ ){
		  input[i].removeEventListener("input", validate);    //prevent input
		  input[i].removeEventListener("input", setTimer);  //prevent changing timer
		}
}
G("start").addEventListener("click",stopInput);

	  var a = G(date).getHours();
	  var b = G(date).getMinutes();
	  var c = G(date).getSeconds();

function startTimer() {
	  var x = getInput();
	  var date = new Date ((x[0]*1000*60*60)+(x[1]*1000*60) +(x[2]*1000)) 

	  setTimer2(a,b,c);
	  console.log(date);
      setTimeout(startTimer,1000);
}
G("start").addEventListener("click",startTimer);

//stop timer function
function stopTimer(){


console.log("Timer Stoped");
}
G("stop").addEventListener("click",stopTimer);

//function that clears input fileds and timer
function clearTimer() {
	for ( i = 0 ; i < input.length ; i++ ){
	  input[i].value ="00";
		input[i].addEventListener("input", validate);    //function that validates input
		input[i].addEventListener("input", setTimer);  //function that sets timer
		setTimer();
		}
console.log("Timer Cleared");
}
G("clear").addEventListener("click",clearTimer)

</script>
</body>
</html>
